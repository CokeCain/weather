var e={};e.unit="metric";e.appid="dcf621faa4199052db3aa27bda63a00b";e.appikey="f5b9a7ccf55443d28087fe4daedee6c4";const t=document.querySelector(".current");e.currentWeatherDiv=t;const a=document.querySelector(".seven-day");e.sevenWeatherDiv=a;const n=document.querySelector(".hourly");e.hourlyWeatherDiv=n;const i=document.querySelector(".loading");e.loadingDiv=i;const s=document.querySelector(".loader-message");e.loadingMessage=s;const r=document.querySelector(".search");e.inputSearch=r;const c=document.querySelector(".search-results");e.searchResultsDiv=c;const o=document.querySelector(".favorite-cities");e.favoriteCitiesDiv=o;const d=document.querySelector(".welcome");e.welcome=d;const l=document.querySelector(".modal");e.modal=l;const u=document.querySelector(".information-modal");e.informationModal=u;const p=document.querySelector(".search-modal");e.searchModal=p;const v=document.querySelector(".favorite-modal");e.favoriteModal=v;const h=document.querySelector(".overlay");e.overlay=h;const y=document.querySelector(".modal-overlay");e.modalOverlay=y;const m=document.querySelector(".close_modal");e.closeModalBtn=m;const g=document.querySelector(".geolocation-button");e.geolocationButton=g;const _=document.querySelector(".favorite-button");e.favoriteButton=_;const f=document.querySelector(".search-button");e.searchButton=f;const w=document.querySelector(".search_group");e.searchGroup=w;const b=document.querySelector(".message-modal");e.messageModal=b;const S=document.querySelector(".temperature-and-image");e.tempAndImg=S;const k=document.querySelector(".location");e.locationDiv=k;const M=document.querySelector(".today-weather-description");e.todayWeatherDesc=M;const q=document.querySelector(".weather-highlights");e.weatherHighlights=q;const L=document.querySelector(".this-day");e.thisDay=L;const E=document.querySelector(".weather");e.weatherDiv=E;const x=e=>e<10?"0"+e:+e,D=function(e){let t=parseFloat(e);if(t<=11.25)return"N";t-=11.25;let a=["NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"],n=parseInt(t/22.5);return a[n]?a[n]:"N"},W=["January","February","March","April","May","June","July","August","September","October","November","December"],N=function(e){let t=new Date(1e3*e);return[x(t.getHours()),x(t.getMinutes()),t.getDate(),W[t.getMonth()]]};function P(e,t,a,n){let i=t.split(":"),s=a.split(":"),r=n.split(":");return e>=200&&e<=232?'<div class="thundery"><div class="thundery__cloud"></div><div class="thundery__rain"></div></div>':e>=300&&e<=321?'<div class="shower__rain"><div class="rainy__cloud"></div><div class="rainy__rain"></div></div>':e>=500&&e<=504?i[0]>s[0]&&i[0]<r[0]?'<div class="rainy"><div class="rainy__cloud"></div><div class="rainy__rain"></div><div class="smaller__sun"></div></div>':'<div class="rainy"><div class="rainy__cloud"></div><div class="rainy__rain"></div><div class="smaller__moon"></div></div>':e>=511&&e<=531?'<div class="shower__rain"><div class="rainy__cloud"></div><div class="rainy__rain"></div></div>':e>=600&&e<=622?'<div class="snowy"><div class="rainy__cloud"></div><div class="snow"></div></div>':800===e?i[0]>s[0]&&i[0]<r[0]?'<div class="sunny"></div>':'<div class="moony"></div>':801===e?i[0]>s[0]&&i[0]<r[0]?'<div class="partly_cloudy"><div class="partly_cloudy__sun"></div><div class="partly_cloudy__cloud"></div></div>':'<div class="partly_cloudy"><div class="partly_cloudy__moon"></div><div class="partly_cloudy__cloud"></div></div>':802===e?'<div class="cloudy"></div>':e>=803&&e<=804?'<div class="more__cloudy"></div>':e>=701&&e<=781?'<div class="mist">\n  <div class="mist-line">\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n  </div>\n  <div class="mist-line">\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n  </div>\n  <div class="mist-line">\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n  </div>\n  <div class="mist-line">\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n  </div>\n</div>':void 0}const j={location:{},weather:{current:[],hourly:[],daily:[]},favorite_cities:[],favorite_codes:[]};class C{constructor(e,t,a,n,i){this.name=e,this.country=t,this.flag=a,this.coordinates=n,this.code=i}}const O=async function(e,t){try{const a=await fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(e,"&longitude=").concat(t,"&localityLanguage=en")),n=await a.json(),i=""===n.city?n.locality:n.city,{countryName:s,countryCode:r}=n,c=await async function(e){try{const t=await fetch("https://restcountries.eu/rest/v2/name/".concat(e));return(await t.json())[0].flag}catch(e){console.log(e)}}(s);j.location=new C(i,s,c,[e,t],i.toUpperCase()+r)}catch(e){console.log(e)}};async function A(e,t){try{const a=await fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&units=").concat("metric","&exclude={part}&appid=").concat("dcf621faa4199052db3aa27bda63a00b"));!function(e,t){j.weather.current=function(e,t){let[a,n,i,s]=N(e.current.dt);return{time:"".concat(a,":").concat(n,", ").concat(i,". ").concat(s),icon:e.current.weather[0].icon,sunrise:"".concat(N(e.current.sunrise)[0],":").concat(N(e.current.sunrise)[1]),sunset:"".concat(N(e.current.sunset)[0],":").concat(N(e.current.sunset)[1]),uvi:e.current.uvi,visibility:e.current.visibility,temperature:Math.floor(e.current.temp),feels:e.current.feels_like,description:e.current.weather[0].description,id:e.current.weather[0].id,windDegrees:e.current.wind_deg,windDirection:D(e.current.wind_deg),windSpeed:e.current.wind_speed,humidity:e.current.humidity,aqi:t,...e.alerts&&{alert:e.alerts}}}(e,t),e.daily.map((e,t)=>j.weather.daily[t]=function(e){let t=new Date(1e3*e.dt).getDay();return{date:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][t],icon:e.weather[0].icon,id:e.weather[0].id,temperatureDay:Math.trunc(e.temp.day),temperatureNight:Math.trunc(e.temp.night),description:(a=e.weather[0].description,a[0].charAt(0).toUpperCase()+a.slice(1)),windDegrees:e.wind_deg,windSpeed:e.wind_speed,pop:e.pop};var a}(e)),e.hourly.map((e,t)=>j.weather.hourly[t]=function(e){return{time:new Date(1e3*e.dt).getHours(),icon:e.weather[0].icon,id:e.weather[0].id,temperature:Math.trunc(e.temp),pop:e.pop}}(e))}(await a.json(),await async function(e,t){try{const a=await fetch("http://api.openweathermap.org/data/2.5/air_pollution?lat=".concat(e,"&lon=").concat(t,"&appid=").concat("dcf621faa4199052db3aa27bda63a00b"));return(await a.json()).list[0].main.aqi}catch(e){console.log(e)}}(e,t))}catch(e){console.log(e)}}function H(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class I{constructor(){H(this,"_data",void 0),H(this,"_bookmarked",void 0)}render(e,t=!0,a){this._data=e,this._bookmarked=a;const n=this._generateMarkup();this._clear(),this._parentElement.insertAdjacentHTML("beforeend",n)}_clear(){this._parentElement.innerHTML=""}}var F=new class extends I{constructor(...e){var a,n,i;super(...e),i=t,(n="_parentElement")in(a=this)?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}_generateMarkup(){return'\n    <div class="weather-data">\n    <div class="location">\n    <div>\n      <p class="city-name">'.concat(this._data.location.name,',</p>\n      <img class="flag" src="').concat(this._data.location.flag,'"><p class="country-name">').concat(this._data.location.country,'</p>\n      <i class="favorite ').concat(!0===this._bookmarked?"fas":"far",' fa-heart"></i>\n      <p class="date-time">').concat(this._data.weather.current.time,'</p>\n      </div>\n      <div class="temperature-and-image">\n      <div class="weather-images">').concat(P(this._data.weather.current.id,this._data.weather.current.time,this._data.weather.current.sunrise,this._data.weather.current.sunset),'</div>\n      <div>\n      <p class="temperature">').concat(this._data.weather.current.temperature,"<span>").concat("°C",'</span></p>\n      <p class="description">').concat(this._data.weather.current.description,'</p>\n      </div>\n    </div>\n    <div class="today-weather-description">\n    <div class="description-icon wind"><img src="img/wind-icon.png"><p>').concat(this._data.weather.current.windSpeed,' km/h</p></div>\n    <div class="description-icon rain"><img src="img/rain-icon.png"><p>').concat(this._data.weather.current.humidity,' %</p></div>\n    <div class="description-icon pop"><img src="img/pop-icon.png"><p>').concat(Math.round(100*this._data.weather.hourly[0].pop),' %</p></div>\n    </div>\n    <div class="data alert-label">\n            <p class="tag alert">').concat(this._checkForAlerts(),'</p>\n    </div>\n    <div class="direction-buttons">\n    <div class="botun previous-btn">Previous 4 hours</i></div>\n    <div class="botun next-btn">Next 4 hours</div>\n    </div>\n    ')}_checkForAlerts(){return void 0===this._data.weather.current.alert?"No alerts!":"".concat(this._data.weather.current.alert[0].event)}};var T=new class extends I{constructor(...e){var t,a,n;super(...e),n="",(a="_parentElement")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n}_generateMarkup(e){return'<div class="one-hour">\n    <div class="col-1">\n        <p class="hour">'.concat(this._data.time,':00</p>\n    </div>\n    <div class="col-2">\n    ').concat(P(cur.id,this._data.current.time,this._data.current.sunrise,this._data.current.sunset),'\n    </div>\n    <div class="col-3">\n    <p class="temperature">').concat(this._data.temperature).concat("°C",'</p>\n    </div>\n    <div class="col-4">\n    <img class="pop-icon" src="img/rain-icon.png">\n    <p class="pop">').concat(this._data.pop,"%</p>\n    </div>\n    </div>")}};function B(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var G=new class extends I{constructor(...e){super(...e),B(this,"_parentElement",n),B(this,"_hoursPerPage",4),B(this,"_totalHours",48),B(this,"_page",1)}_generateMarkup(){return this._data.hourly.map(e=>'<div class="one-hour">\n    <div class="col-1">\n        <p class="hour">'.concat(e.time,':00</p>\n    </div>\n    <div class="col-2">\n    ').concat(P(e.id,this._data.current.time,this._data.current.sunrise,this._data.current.sunset),'\n\n    </div>\n    <div class="col-3">\n    <p class="temperature">').concat(e.temperature).concat("°C","</p>\n    </div>\n    </div>")).join("")}_generateMarkup2(){return this._data.hourly.map(e=>T.render(e,!1)).join("")}slideRight(){let e=document.querySelector(".one-hour").offsetWidth+15;n.getBoundingClientRect(),t.getBoundingClientRect();this._page<this._totalHours/this._hoursPerPage?(n.style.right=this._page*this._hoursPerPage*e+"px",this._page++,document.querySelector(".previous-btn").style.display="block"):document.querySelector(".next-btn").style.display="none"}slideLeft(){let e=document.querySelector(".one-hour").offsetWidth+15;this._page>1?(n.style.right=(this._page-2)*this._hoursPerPage*e+"px",this._page--,document.querySelector(".next-btn").style.display="block"):document.querySelector(".previous-btn").style.display="none"}};function J(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var U=new class extends I{constructor(...e){super(...e),J(this,"_parentElement",q),J(this,"_bookmarked",void 0)}_generateMarkup(){return'<div class="highlight-card">\n    <p class="card-title">UV Index</p>\n    <div id="uvi-graph"></div>\n    </div>\n    <div class="highlight-card">\n    <p class="card-title">Wind Status</p>\n    <p class="wind-speed"><span class="number">'.concat(this._data.current.windSpeed,'</span> m/s</p>\n    <div class="wind-direction-flex">\n    <img class="wind-arr" src="img/wind-arr-cb.png" style="transform:rotate(').concat(this._data.current.windDegrees,'deg)">\n    <p class="wind-direction">Direction: ').concat(this._data.current.windDirection,'</p>\n    </div>\n    </div>\n    <div class="highlight-card">\n    <p class="card-title">Sunrise & Sunset</p>\n    <div class="sunrise-div">\n    <div class="sunny up"></div>\n    <i class="fas fa-sort-up"></i>\n    <p>').concat(this._data.current.sunrise,'</p>\n    </div>\n    <div class="sunset-div">\n    <i class="fas fa-sort-down"></i>\n    <div class="sunny up"></div>\n    <p>').concat(this._data.current.sunset,'</p>\n    </div>\n    </div>\n    <div class="highlight-card">\n    <p class="card-title">Humidity</p>\n    <div class="humidity-bar" id="humidity-bar"></div>\n    </div>\n    <div class="highlight-card">\n    <p class="card-title">Visibility</p>\n    <p class="visibility"><span class="number">').concat(this._data.current.visibility/1e3,'</span> km</p>\n    <p class="visibility-summary">').concat((e=this._data.current.visibility,e>=0&&e<=2999?"Bad 😑":e>=3e3&&e<=5999?"Average 🤔":e>=6e3?"Great! 😍":void 0),'</p>\n    </div>\n    <div class="highlight-card">\n    <p class="card-title">Air Quality Index</p>\n    <p class="air-quality"><span class="number">').concat(this._data.current.aqi,'</span></p>\n    <p class="aqi-summary">').concat(function(e){return 1===e?"Good 😍":2===e?"Fair 😄":3===e?"Moderate 😏":4===e?"Poor 😵":5===e?"Very poor 💀":void 0}(this._data.current.aqi),"</p>\n    </div>\n    ");var e}animate(){var e;e=this._data.current.uvi/10,new ProgressBar.SemiCircle("#uvi-graph",{strokeWidth:12,color:"#FFEA82",trailColor:"#eee",trailWidth:5,easing:"easeInOut",duration:1400,svgStyle:null,text:{value:"",alignToBottom:!1},from:{color:"#FFEA82"},to:{color:"#ED6A5A"},step:(t,a)=>{a.path.setAttribute("stroke",t.color),0===Math.round(100*a.value())?a.setText(""):a.setText((10*e).toFixed(2)),a.text.style.color=t.color,a.text.style.fontSize="3rem"}}).animate(e),function(e){new ProgressBar.Line("#humidity-bar",{strokeWidth:4,easing:"easeInOut",duration:1400,color:"#3c63af",trailColor:"#eee",trailWidth:1,svgStyle:{width:"100%",height:"100%"},text:{style:{color:"#000000",position:"relative",right:"0",top:"-80px",padding:0,transform:null,fontSize:"35px"},autoStyleContainer:!1},from:{color:"#FFEA82"},to:{color:"#ED6A5A"},step:(e,t)=>{t.setText(Math.round(100*t.value())+" %"),t.setText("".concat(Math.round(100*t.value()),' <span style="font-size:18px;margin-top:-8px;position:absolute;">%</span>'))}}).animate(e)}(this._data.current.humidity/100)}hourlyMarkup(){return console.log(this._data.hourly[0].time),"".concat(this._data.hourly.forEach(e=>e.uvi))}};new class extends I{constructor(...e){var t,a,n;super(...e),n="",(a="_parentElement")in(t=this)?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n}_generateMarkup(){return'\n    <div class="one-day">\n    <div class="row row-1">\n    <p class="date">'.concat(this._data.date,'</p>\n    </div>\n       \n    <div class="row row-2">\n    ').concat(P(this._data.id),'\n    </div>\n         \n    <div class="row row-3">\n    <img class="pop-icon" src="img/rain-icon.png">\n    <p class="pop">').concat(this._data.pop,'%</p>\n    </div>\n    \n    <div class="row row-4">\n    <p class="temperature">').concat(this._data.temperatureDay,"/").concat(this._data.temperatureNight).concat("°C",'</p>\n    </div>\n            \n    <div class="row row-5">\n    <p class="description">').concat(this._data.description,"</p>\n    </div>\n    </div> ")}};var R=new class extends I{constructor(...e){var t,n,i;super(...e),i=a,(n="_parentElement")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}_generateMarkup(){return this._data.daily.map(e=>'\n    <div class="one-day">\n    <div class="row row-1">\n    <p class="date">'.concat(e.date,'</p>\n    </div>\n       \n    <div class="row row-2">\n    ').concat(P(e.id,this._data.current.time,this._data.current.sunrise,this._data.current.sunset),'\n    </div>\n         \n    <div class="row row-3">\n    <img class="pop-icon" src="img/rain-icon.png">\n    <p class="pop">').concat(100*e.pop,'%</p>\n    </div>\n    \n    <div class="row row-4">\n    <p class="temperature">').concat(e.temperatureDay,"/").concat(e.temperatureNight).concat("°C",'</p>\n    </div>\n            \n    <div class="row row-5">\n    <p class="description">').concat(e.description,"</p>\n    </div>\n    </div>")).join("")}};document.querySelector(".highlights-link").addEventListener("click",(function(){document.querySelector(".seven-day").style.display="none",document.querySelector(".weather-highlights").style.display="flex",this.classList.add("active"),document.querySelector(".week-link").classList.remove("active")})),document.querySelector(".week-link").addEventListener("click",(function(){document.querySelector(".weather-highlights").style.display="none",document.querySelector(".seven-day").style.display="flex",this.classList.add("active"),document.querySelector(".highlights-link").classList.remove("active")}));var z=new class{showUI(){E.classList.remove("hidden"),this.toggleLoader()}_hideUi(){e.mainCol1.classList.add("hidden"),e.mainCol2.classList.add("hidden")}hideWelcome(){d.classList.contains("hidden")||d.classList.add("hidden")}loaderMessage(e){s.textContent="",s.innerHTML=e,this.toggleLoader()}toggleLoader(){i.classList.contains("hidden")?(h.style.display="block",i.classList.remove("hidden")):(h.style.display="none",i.classList.add("hidden"))}addHandlerGeolocation(e){g.addEventListener("click",e)}};function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Q=new class extends I{constructor(...e){super(...e),V(this,"_parentElement",u),V(this,"_modal",u)}_generateMarkup(){return'\n    <div class="close_modal close_modal-alert"><i class="far fa-times-circle"></i></div>\n    <div class="information-modal-title">\n        <p>Weather alerts</p>\n    </div>\n    <div class="information-modal-content">\n      <p class="event">'.concat(this._data.event,'</p>\n      <p class="description">').concat(this._data.description,'</p>\n      <p class="sender">').concat(this._data.sender_name,"</p>\n    </div>")}showModal(e){h.style.display="block",this._parentElement.style.display="block",this.render(e)}closeModal(){h.style.display="none",this._parentElement.display="none",this._clear()}};function K(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var X=new class extends I{constructor(...e){super(...e),K(this,"_parentElement",c),K(this,"_modal",p)}_generateMarkup(){return this._data.map(e=>this._markup(e)).join("")}_markup(e){return'<div class="city-search-result" data-lat="'.concat(e.lat,'" data-lon="').concat(e.lon,'">\n    <img style="width:30px;margin-right:10px;" src="https://www.countryflags.io/').concat(e.country,'/flat/32.png">\n    <p>').concat(e.name,", ").concat(e.country,"</p>\n</div>")}showModal(){h.style.display="block",this._modal.style.display="block",w.style.display="block",r.focus()}closeModal(){h.style.display="none",w.style.display="none",r.value="",this._modal.style.display="none",this._clear()}hideInputField(){w.style.display="none"}message(){this._parentElement.insertAdjacentHTML("beforeend","<p>No cities matching your querry.</p><p>Please check for errors!</p>")}addHandlerEnterInSearch(e){document.addEventListener("keydown",(function(t){if("Enter"===t.key){let t=r.value;if(!t)return;e(t)}}))}};function Y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Z=new class extends I{constructor(...e){super(...e),Y(this,"_parentElement",o),Y(this,"_modal",v)}_generateMarkup(){return 0===this._data.length?"<h2>No favorites yet ☹</h2>":"\n    <h2>Favorite cities:</h2>\n    ".concat(this._data.map(e=>this._markup(e)).join(""),"\n    ")}_markup(e){return'<div class="favorite-city">\n<img style="width:30px;margin-right:10px;" src="'.concat(e.flag,'">\n<p data-lat="').concat(e.coordinates[0],'" data-lon="').concat(e.coordinates[1],'"data-city="').concat(e.name,'" data-country="').concat(e.country,'">').concat(e.name,", ").concat(e.country,"</p>\n</div>")}showModal(e){h.style.display="block",this._modal.style.display="block",this._parentElement.style.display="block",this.render(e)}closeModal(){h.style.display="none",this._modal.style.display="none",this._parentElement.innerHTML="",this._parentElement.style.display="none",this._clear()}};const $=async function(e,t){try{await O(e,t),await A(e,t),F.render(j,!0,!!j.favorite_codes.includes(j.location.code)),z.showUI(),G.render(j.weather,!0),U.render(j.weather),U.animate(),R.render(j.weather,!0)}catch(e){console.error("🧨  ".concat(e,"   🧨"))}};async function ee(e){try{const t=await fetch("http://api.openweathermap.org/geo/1.0/direct?q=".concat(e,"&limit=5&appid=").concat("dcf621faa4199052db3aa27bda63a00b"));!function(e){0!==e.length&&e?X.render(e):c.innerHTML="<p>No cities matching your querry.</p><p>Please check for errors!</p>"}(await t.json())}catch(e){console.log(e)}}const te=function(){z.hideWelcome(),z.loaderMessage("Getting location data..."),navigator.geolocation.getCurrentPosition((function(e){const{latitude:t,longitude:a}=e.coords;$(t,a)}))};f.addEventListener("click",(function(){X.showModal()})),c.addEventListener("click",(function(e){const t=e.target.closest(".city-search-result");t&&(z.hideWelcome(),z.loaderMessage("Getting weather data..."),X.closeModal(),$(t.dataset.lat,t.dataset.lon))})),t.addEventListener("click",(function(e){e.target.closest(".alert")&&j.weather.current.alert&&Q.showModal(j.weather.current.alert[0],!0)})),h.addEventListener("click",(function(e){const t=e.target.closest(".close_modal");t&&(t.classList.contains("close_modal-search")&&X.closeModal(),t.classList.contains("close_modal-alert")&&Q.closeModal(),t.classList.contains("close_modal-favorite")&&Z.closeModal())})),_.addEventListener("click",(function(){Z.showModal(j.favorite_cities)})),o.addEventListener("click",(function(e){const t=e.target.closest(".favorite-city p");t&&(z.hideWelcome(),z.loaderMessage("Getting location data..."),d.style.display="none",Z.closeModal(),$(t.dataset.lat,t.dataset.lon))}));function ae(e){b.innerHTML="".concat(e),b.style.display="block",setInterval((function(){b.style.display="none"}),3e3)}!function(){z.addHandlerGeolocation(te),X.addHandlerEnterInSearch(ee);const e=localStorage.getItem("favorite_cities"),t=localStorage.getItem("favorite_codes");e&&t&&(j.favorite_cities=JSON.parse(e),j.favorite_codes=JSON.parse(t))}(),t.addEventListener("click",(function(e){if(e.target.closest(".favorite")){if(j.favorite_codes.includes(j.location.code)){console.log("allready favorited, deleting");let e=j.favorite_codes.indexOf(j.location.code);j.favorite_cities.splice(e,1),j.favorite_codes.splice(e,1),localStorage.clear()}else console.log("adding to favorites"),j.favorite_cities.push(j.location),j.favorite_codes.push(j.location.code),o.innerHTML="";document.querySelector(".location i").classList.contains("far")?(document.querySelector(".location i").classList.remove("far"),document.querySelector(".location i").classList.add("fas"),ae("City added to favorites! 😁")):document.querySelector(".location i").classList.contains("fas")&&(document.querySelector(".location i").classList.remove("fas"),document.querySelector(".location i").classList.add("far"),ae("City removed from favorites. ☹")),localStorage.setItem("favorite_cities",JSON.stringify(j.favorite_cities)),localStorage.setItem("favorite_codes",JSON.stringify(j.favorite_codes)),Z.render(j.favorite_cities)}})),t.addEventListener("click",(function(e){e.target.closest(".next-btn")&&G.slideRight()})),t.addEventListener("click",(function(e){e.target.closest(".previous-btn")&&G.slideLeft()}));
//# sourceMappingURL=control.HASH_REF_813bd4c171db197c564b24bc4718e451.js.map
